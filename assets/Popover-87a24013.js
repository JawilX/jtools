import{w as G,aF as ae,aC as ie,aW as re,b as te,aX as sn,aY as ln,aZ as me,a_ as un,a$ as L,i as Je,b0 as ye,aw as dn,b1 as U,b2 as Ye,b3 as he,b4 as Te,b5 as fn,b6 as Pe,b7 as Ee,b8 as Z,b9 as cn,ba as Ce,a as vn,bb as hn,bc as gn,bd as pn,be as wn,bf as bn,bg as mn,o as D,l as B,p as se,m as le,n as V,bh as yn,d as qe,j as Sn,q as Se,bi as $n,r as F,f as An,J as Ze,am as Me,O as _n,aJ as ue,y as On,a6 as Tn,I as Pn,t as j,ao as xe,s as Q,h as S,a9 as En,bj as Cn,bk as Mn,bl as xn,bm as Re,bn as Rn,D as Bn,M as je,B as de,F as In,bo as Dn,al as Fn,g as Be,bp as Ie,P as Ln,_ as zn,aE as Nn,bq as Hn,k as Y}from"./index-a20a0bbd.js";import{u as ee,e as Wn,V as Kn,d as Gn}from"./Follower-2b85aff6.js";import{u as Un}from"./Eye-42e7e8b6.js";let fe;function kn(){return fe===void 0&&(fe=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),fe}function Xn(e,n){return G(()=>{for(const r of n)if(e[r]!==void 0)return e[r];return e[n[n.length-1]]})}const K="@@mmoContext",Jn={mounted(e,{value:n}){e[K]={handler:void 0},typeof n=="function"&&(e[K].handler=n,ae("mousemoveoutside",e,n))},updated(e,{value:n}){const r=e[K];typeof n=="function"?r.handler?r.handler!==n&&(ie("mousemoveoutside",e,r.handler),r.handler=n,ae("mousemoveoutside",e,n)):(e[K].handler=n,ae("mousemoveoutside",e,n)):r.handler&&(ie("mousemoveoutside",e,r.handler),r.handler=void 0)},unmounted(e){const{handler:n}=e[K];n&&ie("mousemoveoutside",e,n),e[K].handler=void 0}},Yn=Jn;var qn=re(te,"WeakMap");const ge=qn;var Zn=sn(Object.keys,Object);const jn=Zn;var Qn=Object.prototype,Vn=Qn.hasOwnProperty;function er(e){if(!ln(e))return jn(e);var n=[];for(var r in Object(e))Vn.call(e,r)&&r!="constructor"&&n.push(r);return n}function $e(e){return me(e)?un(e):er(e)}var nr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rr=/^\w*$/;function Ae(e,n){if(L(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Je(e)?!0:rr.test(e)||!nr.test(e)||n!=null&&e in Object(n)}var tr="Expected a function";function _e(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(tr);var r=function(){var t=arguments,a=n?n.apply(this,t):t[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,t);return r.cache=o.set(a,i)||o,i};return r.cache=new(_e.Cache||ye),r}_e.Cache=ye;var or=500;function ar(e){var n=_e(e,function(t){return r.size===or&&r.clear(),t}),r=n.cache;return n}var ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sr=/\\(\\)?/g,lr=ar(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(ir,function(r,t,a,o){n.push(a?o.replace(sr,"$1"):t||r)}),n});const ur=lr;function Qe(e,n){return L(e)?e:Ae(e,n)?[e]:ur(dn(e))}var dr=1/0;function oe(e){if(typeof e=="string"||Je(e))return e;var n=e+"";return n=="0"&&1/e==-dr?"-0":n}function Ve(e,n){n=Qe(n,e);for(var r=0,t=n.length;e!=null&&r<t;)e=e[oe(n[r++])];return r&&r==t?e:void 0}function fr(e,n,r){var t=e==null?void 0:Ve(e,n);return t===void 0?r:t}function cr(e,n){for(var r=-1,t=n.length,a=e.length;++r<t;)e[a+r]=n[r];return e}function vr(e,n){for(var r=-1,t=e==null?0:e.length,a=0,o=[];++r<t;){var i=e[r];n(i,r,e)&&(o[a++]=i)}return o}function hr(){return[]}var gr=Object.prototype,pr=gr.propertyIsEnumerable,De=Object.getOwnPropertySymbols,wr=De?function(e){return e==null?[]:(e=Object(e),vr(De(e),function(n){return pr.call(e,n)}))}:hr;const br=wr;function mr(e,n,r){var t=n(e);return L(e)?t:cr(t,r(e))}function Fe(e){return mr(e,$e,br)}var yr=re(te,"DataView");const pe=yr;var Sr=re(te,"Promise");const we=Sr;var $r=re(te,"Set");const be=$r;var Le="[object Map]",Ar="[object Object]",ze="[object Promise]",Ne="[object Set]",He="[object WeakMap]",We="[object DataView]",_r=U(pe),Or=U(he),Tr=U(we),Pr=U(be),Er=U(ge),z=Ye;(pe&&z(new pe(new ArrayBuffer(1)))!=We||he&&z(new he)!=Le||we&&z(we.resolve())!=ze||be&&z(new be)!=Ne||ge&&z(new ge)!=He)&&(z=function(e){var n=Ye(e),r=n==Ar?e.constructor:void 0,t=r?U(r):"";if(t)switch(t){case _r:return We;case Or:return Le;case Tr:return ze;case Pr:return Ne;case Er:return He}return n});const Ke=z;var Cr="__lodash_hash_undefined__";function Mr(e){return this.__data__.set(e,Cr),this}function xr(e){return this.__data__.has(e)}function ne(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new ye;++n<r;)this.add(e[n])}ne.prototype.add=ne.prototype.push=Mr;ne.prototype.has=xr;function Rr(e,n){for(var r=-1,t=e==null?0:e.length;++r<t;)if(n(e[r],r,e))return!0;return!1}function Br(e,n){return e.has(n)}var Ir=1,Dr=2;function en(e,n,r,t,a,o){var i=r&Ir,s=e.length,l=n.length;if(s!=l&&!(i&&l>s))return!1;var d=o.get(e),c=o.get(n);if(d&&c)return d==n&&c==e;var p=-1,v=!0,m=r&Dr?new ne:void 0;for(o.set(e,n),o.set(n,e);++p<s;){var y=e[p],f=n[p];if(t)var P=i?t(f,y,p,n,e,o):t(y,f,p,e,n,o);if(P!==void 0){if(P)continue;v=!1;break}if(m){if(!Rr(n,function(A,_){if(!Br(m,_)&&(y===A||a(y,A,r,t,o)))return m.push(_)})){v=!1;break}}else if(!(y===f||a(y,f,r,t,o))){v=!1;break}}return o.delete(e),o.delete(n),v}function Fr(e){var n=-1,r=Array(e.size);return e.forEach(function(t,a){r[++n]=[a,t]}),r}function Lr(e){var n=-1,r=Array(e.size);return e.forEach(function(t){r[++n]=t}),r}var zr=1,Nr=2,Hr="[object Boolean]",Wr="[object Date]",Kr="[object Error]",Gr="[object Map]",Ur="[object Number]",kr="[object RegExp]",Xr="[object Set]",Jr="[object String]",Yr="[object Symbol]",qr="[object ArrayBuffer]",Zr="[object DataView]",Ge=Te?Te.prototype:void 0,ce=Ge?Ge.valueOf:void 0;function jr(e,n,r,t,a,o,i){switch(r){case Zr:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case qr:return!(e.byteLength!=n.byteLength||!o(new Pe(e),new Pe(n)));case Hr:case Wr:case Ur:return fn(+e,+n);case Kr:return e.name==n.name&&e.message==n.message;case kr:case Jr:return e==n+"";case Gr:var s=Fr;case Xr:var l=t&zr;if(s||(s=Lr),e.size!=n.size&&!l)return!1;var d=i.get(e);if(d)return d==n;t|=Nr,i.set(e,n);var c=en(s(e),s(n),t,a,o,i);return i.delete(e),c;case Yr:if(ce)return ce.call(e)==ce.call(n)}return!1}var Qr=1,Vr=Object.prototype,et=Vr.hasOwnProperty;function nt(e,n,r,t,a,o){var i=r&Qr,s=Fe(e),l=s.length,d=Fe(n),c=d.length;if(l!=c&&!i)return!1;for(var p=l;p--;){var v=s[p];if(!(i?v in n:et.call(n,v)))return!1}var m=o.get(e),y=o.get(n);if(m&&y)return m==n&&y==e;var f=!0;o.set(e,n),o.set(n,e);for(var P=i;++p<l;){v=s[p];var A=e[v],_=n[v];if(t)var N=i?t(_,A,v,n,e,o):t(A,_,v,e,n,o);if(!(N===void 0?A===_||a(A,_,r,t,o):N)){f=!1;break}P||(P=v=="constructor")}if(f&&!P){var M=e.constructor,C=n.constructor;M!=C&&"constructor"in e&&"constructor"in n&&!(typeof M=="function"&&M instanceof M&&typeof C=="function"&&C instanceof C)&&(f=!1)}return o.delete(e),o.delete(n),f}var rt=1,Ue="[object Arguments]",ke="[object Array]",q="[object Object]",tt=Object.prototype,Xe=tt.hasOwnProperty;function ot(e,n,r,t,a,o){var i=L(e),s=L(n),l=i?ke:Ke(e),d=s?ke:Ke(n);l=l==Ue?q:l,d=d==Ue?q:d;var c=l==q,p=d==q,v=l==d;if(v&&Ee(e)){if(!Ee(n))return!1;i=!0,c=!1}if(v&&!c)return o||(o=new Z),i||cn(e)?en(e,n,r,t,a,o):jr(e,n,l,r,t,a,o);if(!(r&rt)){var m=c&&Xe.call(e,"__wrapped__"),y=p&&Xe.call(n,"__wrapped__");if(m||y){var f=m?e.value():e,P=y?n.value():n;return o||(o=new Z),a(f,P,r,t,o)}}return v?(o||(o=new Z),nt(e,n,r,t,a,o)):!1}function Oe(e,n,r,t,a){return e===n?!0:e==null||n==null||!Ce(e)&&!Ce(n)?e!==e&&n!==n:ot(e,n,r,t,Oe,a)}var at=1,it=2;function st(e,n,r,t){var a=r.length,o=a,i=!t;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],d=e[l],c=s[1];if(i&&s[2]){if(d===void 0&&!(l in e))return!1}else{var p=new Z;if(t)var v=t(d,c,l,e,n,p);if(!(v===void 0?Oe(c,d,at|it,t,p):v))return!1}}return!0}function nn(e){return e===e&&!vn(e)}function lt(e){for(var n=$e(e),r=n.length;r--;){var t=n[r],a=e[t];n[r]=[t,a,nn(a)]}return n}function rn(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}function ut(e){var n=lt(e);return n.length==1&&n[0][2]?rn(n[0][0],n[0][1]):function(r){return r===e||st(r,e,n)}}function dt(e,n){return e!=null&&n in Object(e)}function ft(e,n,r){n=Qe(n,e);for(var t=-1,a=n.length,o=!1;++t<a;){var i=oe(n[t]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++t!=a?o:(a=e==null?0:e.length,!!a&&hn(a)&&gn(i,a)&&(L(e)||pn(e)))}function ct(e,n){return e!=null&&ft(e,n,dt)}var vt=1,ht=2;function gt(e,n){return Ae(e)&&nn(n)?rn(oe(e),n):function(r){var t=fr(r,e);return t===void 0&&t===n?ct(r,e):Oe(n,t,vt|ht)}}function pt(e){return function(n){return n==null?void 0:n[e]}}function wt(e){return function(n){return Ve(n,e)}}function bt(e){return Ae(e)?pt(oe(e)):wt(e)}function mt(e){return typeof e=="function"?e:e==null?wn:typeof e=="object"?L(e)?gt(e[0],e[1]):ut(e):bt(e)}function yt(e,n){return e&&bn(e,n,$e)}function St(e,n){return function(r,t){if(r==null)return r;if(!me(r))return e(r,t);for(var a=r.length,o=n?a:-1,i=Object(r);(n?o--:++o<a)&&t(i[o],o,i)!==!1;);return r}}var $t=St(yt);const At=$t;function _t(e,n){var r=-1,t=me(e)?Array(e.length):[];return At(e,function(a,o,i){t[++r]=n(a,o,i)}),t}function Ot(e,n){var r=L(e)?mn:_t;return r(e,mt(n))}const ve={top:"bottom",bottom:"top",left:"right",right:"left"},b="var(--n-arrow-height) * 1.414",Tt=D([B("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[D(">",[B("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),se("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[se("scrollable",[se("show-header-or-footer","padding: var(--n-padding);")])]),le("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),le("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),V("scrollable, show-header-or-footer",[le("content",`
 padding: var(--n-padding);
 `)])]),B("popover-shared",`
 transform-origin: inherit;
 `,[B("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[B("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${b});
 height: calc(${b});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),D("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),D("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),D("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),D("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),E("top-start",`
 top: calc(${b} / -2);
 left: calc(${R("top-start")} - var(--v-offset-left));
 `),E("top",`
 top: calc(${b} / -2);
 transform: translateX(calc(${b} / -2)) rotate(45deg);
 left: 50%;
 `),E("top-end",`
 top: calc(${b} / -2);
 right: calc(${R("top-end")} + var(--v-offset-left));
 `),E("bottom-start",`
 bottom: calc(${b} / -2);
 left: calc(${R("bottom-start")} - var(--v-offset-left));
 `),E("bottom",`
 bottom: calc(${b} / -2);
 transform: translateX(calc(${b} / -2)) rotate(45deg);
 left: 50%;
 `),E("bottom-end",`
 bottom: calc(${b} / -2);
 right: calc(${R("bottom-end")} + var(--v-offset-left));
 `),E("left-start",`
 left: calc(${b} / -2);
 top: calc(${R("left-start")} - var(--v-offset-top));
 `),E("left",`
 left: calc(${b} / -2);
 transform: translateY(calc(${b} / -2)) rotate(45deg);
 top: 50%;
 `),E("left-end",`
 left: calc(${b} / -2);
 bottom: calc(${R("left-end")} + var(--v-offset-top));
 `),E("right-start",`
 right: calc(${b} / -2);
 top: calc(${R("right-start")} - var(--v-offset-top));
 `),E("right",`
 right: calc(${b} / -2);
 transform: translateY(calc(${b} / -2)) rotate(45deg);
 top: 50%;
 `),E("right-end",`
 right: calc(${b} / -2);
 bottom: calc(${R("right-end")} + var(--v-offset-top));
 `),...Ot({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,n)=>{const r=["right","left"].includes(n),t=r?"width":"height";return e.map(a=>{const o=a.split("-")[1]==="end",s=`calc((${`var(--v-target-${t}, 0px)`} - ${b}) / 2)`,l=R(a);return D(`[v-placement="${a}"] >`,[B("popover-shared",[V("center-arrow",[B("popover-arrow",`${n}: calc(max(${s}, ${l}) ${o?"+":"-"} var(--v-offset-${r?"left":"top"}));`)])])])})})]);function R(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function E(e,n){const r=e.split("-")[0],t=["top","bottom"].includes(r)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return D(`[v-placement="${e}"] >`,[B("popover-shared",`
 margin-${ve[r]}: var(--n-space);
 `,[V("show-arrow",`
 margin-${ve[r]}: var(--n-space-arrow);
 `),V("overlap",`
 margin: 0;
 `),yn("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${r}: 100%;
 ${ve[r]}: auto;
 ${t}
 `,[B("popover-arrow",n)])])])}const tn=Object.assign(Object.assign({},Se.props),{to:ee.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Pt=({arrowStyle:e,clsPrefix:n})=>S("div",{key:"__popover-arrow__",class:`${n}-popover-arrow-wrapper`},S("div",{class:`${n}-popover-arrow`,style:e})),Et=qe({name:"PopoverBody",inheritAttrs:!1,props:tn,setup(e,{slots:n,attrs:r}){const{namespaceRef:t,mergedClsPrefixRef:a,inlineThemeDisabled:o}=Sn(e),i=Se("Popover","-popover",Tt,$n,e,a),s=F(null),l=An("NPopover"),d=F(null),c=F(e.show),p=F(!1);Ze(()=>{const{show:h}=e;h&&!kn()&&!e.internalDeactivateImmediately&&(p.value=!0)});const v=G(()=>{const{trigger:h,onClickoutside:$}=e,O=[],{positionManuallyRef:{value:g}}=l;return g||(h==="click"&&!$&&O.push([Me,M,void 0,{capture:!0}]),h==="hover"&&O.push([Yn,N])),$&&O.push([Me,M,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&p.value)&&O.push([_n,e.show]),O}),m=G(()=>{const h=e.width==="trigger"?void 0:ue(e.width),$=[];h&&$.push({width:h});const{maxWidth:O,minWidth:g}=e;return O&&$.push({maxWidth:ue(O)}),g&&$.push({maxWidth:ue(g)}),o||$.push(y.value),$}),y=G(()=>{const{common:{cubicBezierEaseInOut:h,cubicBezierEaseIn:$,cubicBezierEaseOut:O},self:{space:g,spaceArrow:X,padding:J,fontSize:I,textColor:u,dividerColor:w,color:T,boxShadow:H,borderRadius:W,arrowHeight:x,arrowOffset:on,arrowOffsetVertical:an}}=i.value;return{"--n-box-shadow":H,"--n-bezier":h,"--n-bezier-ease-in":$,"--n-bezier-ease-out":O,"--n-font-size":I,"--n-text-color":u,"--n-color":T,"--n-divider-color":w,"--n-border-radius":W,"--n-arrow-height":x,"--n-arrow-offset":on,"--n-arrow-offset-vertical":an,"--n-padding":J,"--n-space":g,"--n-space-arrow":X}}),f=o?On("popover",void 0,y,e):void 0;l.setBodyInstance({syncPosition:P}),Tn(()=>{l.setBodyInstance(null)}),Pn(j(e,"show"),h=>{e.animated||(h?c.value=!0:c.value=!1)});function P(){var h;(h=s.value)===null||h===void 0||h.syncPosition()}function A(h){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(h)}function _(h){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(h)}function N(h){e.trigger==="hover"&&!C().contains(xe(h))&&l.handleMouseMoveOutside(h)}function M(h){(e.trigger==="click"&&!C().contains(xe(h))||e.onClickoutside)&&l.handleClickOutside(h)}function C(){return l.getTriggerElement()}Q(Cn,d),Q(Mn,null),Q(xn,null);function k(){if(f==null||f.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&p.value))return null;let $;const O=l.internalRenderBodyRef.value,{value:g}=a;if(O)$=O([`${g}-popover-shared`,f==null?void 0:f.themeClass.value,e.overlap&&`${g}-popover-shared--overlap`,e.showArrow&&`${g}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${g}-popover-shared--center-arrow`],d,m.value,A,_);else{const{value:X}=l.extraClassRef,{internalTrapFocus:J}=e,I=!Re(n.header)||!Re(n.footer),u=()=>{var w;const T=I?S(In,null,de(n.header,x=>x?S("div",{class:`${g}-popover__header`,style:e.headerStyle},x):null),de(n.default,x=>x?S("div",{class:`${g}-popover__content`,style:e.contentStyle},n):null),de(n.footer,x=>x?S("div",{class:`${g}-popover__footer`,style:e.footerStyle},x):null)):e.scrollable?(w=n.default)===null||w===void 0?void 0:w.call(n):S("div",{class:`${g}-popover__content`,style:e.contentStyle},n),H=e.scrollable?S(Dn,{contentClass:I?void 0:`${g}-popover__content`,contentStyle:I?void 0:e.contentStyle},{default:()=>T}):T,W=e.showArrow?Pt({arrowStyle:e.arrowStyle,clsPrefix:g}):null;return[H,W]};$=S("div",Bn({class:[`${g}-popover`,`${g}-popover-shared`,f==null?void 0:f.themeClass.value,X.map(w=>`${g}-${w}`),{[`${g}-popover--scrollable`]:e.scrollable,[`${g}-popover--show-header-or-footer`]:I,[`${g}-popover--raw`]:e.raw,[`${g}-popover-shared--overlap`]:e.overlap,[`${g}-popover-shared--show-arrow`]:e.showArrow,[`${g}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:d,style:m.value,onKeydown:l.handleKeydown,onMouseenter:A,onMouseleave:_},r),J?S(Rn,{active:e.show,autoFocus:!0},{default:u}):u())}return je($,v.value)}return{displayed:p,namespace:t,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:ee(e),followerEnabled:c,renderContentNode:k}},render(){return S(Wn,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===ee.tdkey},{default:()=>this.animated?S(En,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Ct=Object.keys(tn),Mt={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function xt(e,n,r){Mt[n].forEach(t=>{e.props?e.props=Object.assign({},e.props):e.props={};const a=e.props[t],o=r[t];a?e.props[t]=(...i)=>{a(...i),o(...i)}:e.props[t]=o})}const Rt=zn("").type,Bt={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:ee.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},It=Object.assign(Object.assign(Object.assign({},Se.props),Bt),{internalOnAfterLeave:Function,internalRenderBody:Function}),zt=qe({name:"Popover",inheritAttrs:!1,props:It,__popover__:!0,setup(e){const n=Fn(),r=F(null),t=G(()=>e.show),a=F(e.defaultShow),o=Un(t,a),i=Be(()=>e.disabled?!1:o.value),s=()=>{if(e.disabled)return!0;const{getDisabled:u}=e;return!!(u!=null&&u())},l=()=>s()?!1:o.value,d=Xn(e,["arrow","showArrow"]),c=G(()=>e.overlap?!1:d.value);let p=null;const v=F(null),m=F(null),y=Be(()=>e.x!==void 0&&e.y!==void 0);function f(u){const{"onUpdate:show":w,onUpdateShow:T,onShow:H,onHide:W}=e;a.value=u,w&&Y(w,u),T&&Y(T,u),u&&H&&Y(H,!0),u&&W&&Y(W,!1)}function P(){p&&p.syncPosition()}function A(){const{value:u}=v;u&&(window.clearTimeout(u),v.value=null)}function _(){const{value:u}=m;u&&(window.clearTimeout(u),m.value=null)}function N(){const u=s();if(e.trigger==="focus"&&!u){if(l())return;f(!0)}}function M(){const u=s();if(e.trigger==="focus"&&!u){if(!l())return;f(!1)}}function C(){const u=s();if(e.trigger==="hover"&&!u){if(_(),v.value!==null||l())return;const w=()=>{f(!0),v.value=null},{delay:T}=e;T===0?w():v.value=window.setTimeout(w,T)}}function k(){const u=s();if(e.trigger==="hover"&&!u){if(A(),m.value!==null||!l())return;const w=()=>{f(!1),m.value=null},{duration:T}=e;T===0?w():m.value=window.setTimeout(w,T)}}function h(){k()}function $(u){var w;l()&&(e.trigger==="click"&&(A(),_(),f(!1)),(w=e.onClickoutside)===null||w===void 0||w.call(e,u))}function O(){if(e.trigger==="click"&&!s()){A(),_();const u=!l();f(u)}}function g(u){e.internalTrapFocus&&u.key==="Escape"&&(A(),_(),f(!1))}function X(u){a.value=u}function J(){var u;return(u=r.value)===null||u===void 0?void 0:u.targetRef}function I(u){p=u}return Q("NPopover",{getTriggerElement:J,handleKeydown:g,handleMouseEnter:C,handleMouseLeave:k,handleClickOutside:$,handleMouseMoveOutside:h,setBodyInstance:I,positionManuallyRef:y,isMountedRef:n,zIndexRef:j(e,"zIndex"),extraClassRef:j(e,"internalExtraClass"),internalRenderBodyRef:j(e,"internalRenderBody")}),Ze(()=>{o.value&&s()&&f(!1)}),{binderInstRef:r,positionManually:y,mergedShowConsideringDisabledProp:i,uncontrolledShow:a,mergedShowArrow:c,getMergedShow:l,setShow:X,handleClick:O,handleMouseEnter:C,handleMouseLeave:k,handleFocus:N,handleBlur:M,syncPosition:P}},render(){var e;const{positionManually:n,$slots:r}=this;let t,a=!1;if(!n&&(r.activator?t=Ie(r,"activator"):t=Ie(r,"trigger"),t)){t=Ln(t),t=t.type===Rt?S("span",[t]):t;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=t.type)===null||e===void 0)&&e.__popover__)a=!0,t.props||(t.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),t.props.internalSyncTargetWithParent=!0,t.props.internalInheritedEventHandlers?t.props.internalInheritedEventHandlers=[o,...t.props.internalInheritedEventHandlers]:t.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:i}=this,s=[o,...i],l={onBlur:d=>{s.forEach(c=>{c.onBlur(d)})},onFocus:d=>{s.forEach(c=>{c.onFocus(d)})},onClick:d=>{s.forEach(c=>{c.onClick(d)})},onMouseenter:d=>{s.forEach(c=>{c.onMouseenter(d)})},onMouseleave:d=>{s.forEach(c=>{c.onMouseleave(d)})}};xt(t,i?"nested":n?"manual":this.trigger,l)}}return S(Kn,{ref:"binderInstRef",syncTarget:!a,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const o=this.getMergedShow();return[this.internalTrapFocus&&o?je(S("div",{style:{position:"fixed",inset:0}}),[[Nn,{enabled:o,zIndex:this.zIndex}]]):null,n?null:S(Gn,null,{default:()=>t}),S(Et,Hn(this.$props,Ct,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:o})),{default:()=>{var i,s;return(s=(i=this.$slots).default)===null||s===void 0?void 0:s.call(i)},header:()=>{var i,s;return(s=(i=this.$slots).header)===null||s===void 0?void 0:s.call(i)},footer:()=>{var i,s;return(s=(i=this.$slots).footer)===null||s===void 0?void 0:s.call(i)}})]}})}});export{zt as N,Bt as p,Xn as u};
