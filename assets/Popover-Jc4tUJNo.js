import{w as G,aF as ie,aC as se,aW as te,b as ae,aX as ir,aY as sr,aZ as me,a_ as lr,a$ as L,i as Ye,b0 as Se,aw as ur,b1 as U,b2 as qe,b3 as ge,b4 as Te,b5 as dr,b6 as Pe,b7 as Ee,b8 as j,b9 as fr,ba as Me,a as cr,bb as vr,bc as hr,bd as gr,be as pr,bf as wr,bg as br,o as D,l as B,p as le,m as ue,n as ee,bh as yr,d as Ze,j as mr,q as $e,bi as Sr,r as F,f as $r,J as je,am as Re,P as Cr,aJ as de,y as Ar,a7 as Or,I as _r,t as Q,ao as xe,s as V,bj as Tr,bk as Pr,bl as Er,h as S,aa as Mr,bm as Be,bn as Rr,D as xr,O as Qe,B as fe,F as Br,bo as Ir,al as Dr,g as Ie,bp as De,Q as Fr,bq as Lr,aE as zr,br as Nr,k as q}from"./index-EZkD0_Zx.js";import{u as re,e as Wr,V as Hr,d as Kr}from"./Follower-MTVtQCYD.js";import{u as Gr}from"./Eye-8muYtmkb.js";let ce;function Ur(){return ce===void 0&&(ce=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ce}function kr(e,r){return G(()=>{for(const n of r)if(e[n]!==void 0)return e[n];return e[r[r.length-1]]})}const K="@@mmoContext",Xr={mounted(e,{value:r}){e[K]={handler:void 0},typeof r=="function"&&(e[K].handler=r,ie("mousemoveoutside",e,r))},updated(e,{value:r}){const n=e[K];typeof r=="function"?n.handler?n.handler!==r&&(se("mousemoveoutside",e,n.handler),n.handler=r,ie("mousemoveoutside",e,r)):(e[K].handler=r,ie("mousemoveoutside",e,r)):n.handler&&(se("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:r}=e[K];r&&se("mousemoveoutside",e,r),e[K].handler=void 0}},Jr=Xr;var Yr=te(ae,"WeakMap");const pe=Yr;var qr=ir(Object.keys,Object);const Zr=qr;var jr=Object.prototype,Qr=jr.hasOwnProperty;function Vr(e){if(!sr(e))return Zr(e);var r=[];for(var n in Object(e))Qr.call(e,n)&&n!="constructor"&&r.push(n);return r}function Ce(e){return me(e)?lr(e):Vr(e)}var en=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rn=/^\w*$/;function Ae(e,r){if(L(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ye(e)?!0:rn.test(e)||!en.test(e)||r!=null&&e in Object(r)}var nn="Expected a function";function Oe(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(nn);var n=function(){var t=arguments,o=r?r.apply(this,t):t[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,t);return n.cache=a.set(o,i)||a,i};return n.cache=new(Oe.Cache||Se),n}Oe.Cache=Se;var tn=500;function an(e){var r=Oe(e,function(t){return n.size===tn&&n.clear(),t}),n=r.cache;return r}var on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sn=/\\(\\)?/g,ln=an(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(on,function(n,t,o,a){r.push(o?a.replace(sn,"$1"):t||n)}),r});const un=ln;function Ve(e,r){return L(e)?e:Ae(e,r)?[e]:un(ur(e))}var dn=1/0;function oe(e){if(typeof e=="string"||Ye(e))return e;var r=e+"";return r=="0"&&1/e==-dn?"-0":r}function er(e,r){r=Ve(r,e);for(var n=0,t=r.length;e!=null&&n<t;)e=e[oe(r[n++])];return n&&n==t?e:void 0}function fn(e,r,n){var t=e==null?void 0:er(e,r);return t===void 0?n:t}function cn(e,r){for(var n=-1,t=r.length,o=e.length;++n<t;)e[o+n]=r[n];return e}function vn(e,r){for(var n=-1,t=e==null?0:e.length,o=0,a=[];++n<t;){var i=e[n];r(i,n,e)&&(a[o++]=i)}return a}function hn(){return[]}var gn=Object.prototype,pn=gn.propertyIsEnumerable,Fe=Object.getOwnPropertySymbols,wn=Fe?function(e){return e==null?[]:(e=Object(e),vn(Fe(e),function(r){return pn.call(e,r)}))}:hn;const bn=wn;function yn(e,r,n){var t=r(e);return L(e)?t:cn(t,n(e))}function Le(e){return yn(e,Ce,bn)}var mn=te(ae,"DataView");const we=mn;var Sn=te(ae,"Promise");const be=Sn;var $n=te(ae,"Set");const ye=$n;var ze="[object Map]",Cn="[object Object]",Ne="[object Promise]",We="[object Set]",He="[object WeakMap]",Ke="[object DataView]",An=U(we),On=U(ge),_n=U(be),Tn=U(ye),Pn=U(pe),z=qe;(we&&z(new we(new ArrayBuffer(1)))!=Ke||ge&&z(new ge)!=ze||be&&z(be.resolve())!=Ne||ye&&z(new ye)!=We||pe&&z(new pe)!=He)&&(z=function(e){var r=qe(e),n=r==Cn?e.constructor:void 0,t=n?U(n):"";if(t)switch(t){case An:return Ke;case On:return ze;case _n:return Ne;case Tn:return We;case Pn:return He}return r});const Ge=z;var En="__lodash_hash_undefined__";function Mn(e){return this.__data__.set(e,En),this}function Rn(e){return this.__data__.has(e)}function ne(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new Se;++r<n;)this.add(e[r])}ne.prototype.add=ne.prototype.push=Mn;ne.prototype.has=Rn;function xn(e,r){for(var n=-1,t=e==null?0:e.length;++n<t;)if(r(e[n],n,e))return!0;return!1}function Bn(e,r){return e.has(r)}var In=1,Dn=2;function rr(e,r,n,t,o,a){var i=n&In,s=e.length,l=r.length;if(s!=l&&!(i&&l>s))return!1;var d=a.get(e),c=a.get(r);if(d&&c)return d==r&&c==e;var p=-1,v=!0,b=n&Dn?new ne:void 0;for(a.set(e,r),a.set(r,e);++p<s;){var y=e[p],f=r[p];if(t)var T=i?t(f,y,p,r,e,a):t(y,f,p,e,r,a);if(T!==void 0){if(T)continue;v=!1;break}if(b){if(!xn(r,function(C,A){if(!Bn(b,A)&&(y===C||o(y,C,n,t,a)))return b.push(A)})){v=!1;break}}else if(!(y===f||o(y,f,n,t,a))){v=!1;break}}return a.delete(e),a.delete(r),v}function Fn(e){var r=-1,n=Array(e.size);return e.forEach(function(t,o){n[++r]=[o,t]}),n}function Ln(e){var r=-1,n=Array(e.size);return e.forEach(function(t){n[++r]=t}),n}var zn=1,Nn=2,Wn="[object Boolean]",Hn="[object Date]",Kn="[object Error]",Gn="[object Map]",Un="[object Number]",kn="[object RegExp]",Xn="[object Set]",Jn="[object String]",Yn="[object Symbol]",qn="[object ArrayBuffer]",Zn="[object DataView]",Ue=Te?Te.prototype:void 0,ve=Ue?Ue.valueOf:void 0;function jn(e,r,n,t,o,a,i){switch(n){case Zn:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case qn:return!(e.byteLength!=r.byteLength||!a(new Pe(e),new Pe(r)));case Wn:case Hn:case Un:return dr(+e,+r);case Kn:return e.name==r.name&&e.message==r.message;case kn:case Jn:return e==r+"";case Gn:var s=Fn;case Xn:var l=t&zn;if(s||(s=Ln),e.size!=r.size&&!l)return!1;var d=i.get(e);if(d)return d==r;t|=Nn,i.set(e,r);var c=rr(s(e),s(r),t,o,a,i);return i.delete(e),c;case Yn:if(ve)return ve.call(e)==ve.call(r)}return!1}var Qn=1,Vn=Object.prototype,et=Vn.hasOwnProperty;function rt(e,r,n,t,o,a){var i=n&Qn,s=Le(e),l=s.length,d=Le(r),c=d.length;if(l!=c&&!i)return!1;for(var p=l;p--;){var v=s[p];if(!(i?v in r:et.call(r,v)))return!1}var b=a.get(e),y=a.get(r);if(b&&y)return b==r&&y==e;var f=!0;a.set(e,r),a.set(r,e);for(var T=i;++p<l;){v=s[p];var C=e[v],A=r[v];if(t)var N=i?t(A,C,v,r,e,a):t(C,A,v,e,r,a);if(!(N===void 0?C===A||o(C,A,n,t,a):N)){f=!1;break}T||(T=v=="constructor")}if(f&&!T){var M=e.constructor,E=r.constructor;M!=E&&"constructor"in e&&"constructor"in r&&!(typeof M=="function"&&M instanceof M&&typeof E=="function"&&E instanceof E)&&(f=!1)}return a.delete(e),a.delete(r),f}var nt=1,ke="[object Arguments]",Xe="[object Array]",Z="[object Object]",tt=Object.prototype,Je=tt.hasOwnProperty;function at(e,r,n,t,o,a){var i=L(e),s=L(r),l=i?Xe:Ge(e),d=s?Xe:Ge(r);l=l==ke?Z:l,d=d==ke?Z:d;var c=l==Z,p=d==Z,v=l==d;if(v&&Ee(e)){if(!Ee(r))return!1;i=!0,c=!1}if(v&&!c)return a||(a=new j),i||fr(e)?rr(e,r,n,t,o,a):jn(e,r,l,n,t,o,a);if(!(n&nt)){var b=c&&Je.call(e,"__wrapped__"),y=p&&Je.call(r,"__wrapped__");if(b||y){var f=b?e.value():e,T=y?r.value():r;return a||(a=new j),o(f,T,n,t,a)}}return v?(a||(a=new j),rt(e,r,n,t,o,a)):!1}function _e(e,r,n,t,o){return e===r?!0:e==null||r==null||!Me(e)&&!Me(r)?e!==e&&r!==r:at(e,r,n,t,_e,o)}var ot=1,it=2;function st(e,r,n,t){var o=n.length,a=o,i=!t;if(e==null)return!a;for(e=Object(e);o--;){var s=n[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){s=n[o];var l=s[0],d=e[l],c=s[1];if(i&&s[2]){if(d===void 0&&!(l in e))return!1}else{var p=new j;if(t)var v=t(d,c,l,e,r,p);if(!(v===void 0?_e(c,d,ot|it,t,p):v))return!1}}return!0}function nr(e){return e===e&&!cr(e)}function lt(e){for(var r=Ce(e),n=r.length;n--;){var t=r[n],o=e[t];r[n]=[t,o,nr(o)]}return r}function tr(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}function ut(e){var r=lt(e);return r.length==1&&r[0][2]?tr(r[0][0],r[0][1]):function(n){return n===e||st(n,e,r)}}function dt(e,r){return e!=null&&r in Object(e)}function ft(e,r,n){r=Ve(r,e);for(var t=-1,o=r.length,a=!1;++t<o;){var i=oe(r[t]);if(!(a=e!=null&&n(e,i)))break;e=e[i]}return a||++t!=o?a:(o=e==null?0:e.length,!!o&&vr(o)&&hr(i,o)&&(L(e)||gr(e)))}function ct(e,r){return e!=null&&ft(e,r,dt)}var vt=1,ht=2;function gt(e,r){return Ae(e)&&nr(r)?tr(oe(e),r):function(n){var t=fn(n,e);return t===void 0&&t===r?ct(n,e):_e(r,t,vt|ht)}}function pt(e){return function(r){return r==null?void 0:r[e]}}function wt(e){return function(r){return er(r,e)}}function bt(e){return Ae(e)?pt(oe(e)):wt(e)}function yt(e){return typeof e=="function"?e:e==null?pr:typeof e=="object"?L(e)?gt(e[0],e[1]):ut(e):bt(e)}function mt(e,r){return e&&wr(e,r,Ce)}function St(e,r){return function(n,t){if(n==null)return n;if(!me(n))return e(n,t);for(var o=n.length,a=r?o:-1,i=Object(n);(r?a--:++a<o)&&t(i[a],a,i)!==!1;);return n}}var $t=St(mt);const Ct=$t;function At(e,r){var n=-1,t=me(e)?Array(e.length):[];return Ct(e,function(o,a,i){t[++n]=r(o,a,i)}),t}function Ot(e,r){var n=L(e)?br:At;return n(e,yt(r))}const he={top:"bottom",bottom:"top",left:"right",right:"left"},w="var(--n-arrow-height) * 1.414",_t=D([B("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[D(">",[B("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),le("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[le("scrollable",[le("show-header-or-footer","padding: var(--n-padding);")])]),ue("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),ue("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),ee("scrollable, show-header-or-footer",[ue("content",`
 padding: var(--n-padding);
 `)])]),B("popover-shared",`
 transform-origin: inherit;
 `,[B("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[B("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${w});
 height: calc(${w});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),D("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),D("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),D("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),D("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),P("top-start",`
 top: calc(${w} / -2);
 left: calc(${x("top-start")} - var(--v-offset-left));
 `),P("top",`
 top: calc(${w} / -2);
 transform: translateX(calc(${w} / -2)) rotate(45deg);
 left: 50%;
 `),P("top-end",`
 top: calc(${w} / -2);
 right: calc(${x("top-end")} + var(--v-offset-left));
 `),P("bottom-start",`
 bottom: calc(${w} / -2);
 left: calc(${x("bottom-start")} - var(--v-offset-left));
 `),P("bottom",`
 bottom: calc(${w} / -2);
 transform: translateX(calc(${w} / -2)) rotate(45deg);
 left: 50%;
 `),P("bottom-end",`
 bottom: calc(${w} / -2);
 right: calc(${x("bottom-end")} + var(--v-offset-left));
 `),P("left-start",`
 left: calc(${w} / -2);
 top: calc(${x("left-start")} - var(--v-offset-top));
 `),P("left",`
 left: calc(${w} / -2);
 transform: translateY(calc(${w} / -2)) rotate(45deg);
 top: 50%;
 `),P("left-end",`
 left: calc(${w} / -2);
 bottom: calc(${x("left-end")} + var(--v-offset-top));
 `),P("right-start",`
 right: calc(${w} / -2);
 top: calc(${x("right-start")} - var(--v-offset-top));
 `),P("right",`
 right: calc(${w} / -2);
 transform: translateY(calc(${w} / -2)) rotate(45deg);
 top: 50%;
 `),P("right-end",`
 right: calc(${w} / -2);
 bottom: calc(${x("right-end")} + var(--v-offset-top));
 `),...Ot({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,r)=>{const n=["right","left"].includes(r),t=n?"width":"height";return e.map(o=>{const a=o.split("-")[1]==="end",s=`calc((${`var(--v-target-${t}, 0px)`} - ${w}) / 2)`,l=x(o);return D(`[v-placement="${o}"] >`,[B("popover-shared",[ee("center-arrow",[B("popover-arrow",`${r}: calc(max(${s}, ${l}) ${a?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function x(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function P(e,r){const n=e.split("-")[0],t=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return D(`[v-placement="${e}"] >`,[B("popover-shared",`
 margin-${he[n]}: var(--n-space);
 `,[ee("show-arrow",`
 margin-${he[n]}: var(--n-space-arrow);
 `),ee("overlap",`
 margin: 0;
 `),yr("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${he[n]}: auto;
 ${t}
 `,[B("popover-arrow",r)])])])}const ar=Object.assign(Object.assign({},$e.props),{to:re.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Tt=({arrowClass:e,arrowStyle:r,arrowWrapperClass:n,arrowWrapperStyle:t,clsPrefix:o})=>S("div",{key:"__popover-arrow__",style:t,class:[`${o}-popover-arrow-wrapper`,n]},S("div",{class:[`${o}-popover-arrow`,e],style:r})),Pt=Ze({name:"PopoverBody",inheritAttrs:!1,props:ar,setup(e,{slots:r,attrs:n}){const{namespaceRef:t,mergedClsPrefixRef:o,inlineThemeDisabled:a}=mr(e),i=$e("Popover","-popover",_t,Sr,e,o),s=F(null),l=$r("NPopover"),d=F(null),c=F(e.show),p=F(!1);je(()=>{const{show:h}=e;h&&!Ur()&&!e.internalDeactivateImmediately&&(p.value=!0)});const v=G(()=>{const{trigger:h,onClickoutside:$}=e,O=[],{positionManuallyRef:{value:g}}=l;return g||(h==="click"&&!$&&O.push([Re,M,void 0,{capture:!0}]),h==="hover"&&O.push([Jr,N])),$&&O.push([Re,M,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&p.value)&&O.push([Cr,e.show]),O}),b=G(()=>{const h=e.width==="trigger"?void 0:de(e.width),$=[];h&&$.push({width:h});const{maxWidth:O,minWidth:g}=e;return O&&$.push({maxWidth:de(O)}),g&&$.push({maxWidth:de(g)}),a||$.push(y.value),$}),y=G(()=>{const{common:{cubicBezierEaseInOut:h,cubicBezierEaseIn:$,cubicBezierEaseOut:O},self:{space:g,spaceArrow:X,padding:J,fontSize:I,textColor:Y,dividerColor:u,color:m,boxShadow:_,borderRadius:W,arrowHeight:H,arrowOffset:R,arrowOffsetVertical:or}}=i.value;return{"--n-box-shadow":_,"--n-bezier":h,"--n-bezier-ease-in":$,"--n-bezier-ease-out":O,"--n-font-size":I,"--n-text-color":Y,"--n-color":m,"--n-divider-color":u,"--n-border-radius":W,"--n-arrow-height":H,"--n-arrow-offset":R,"--n-arrow-offset-vertical":or,"--n-padding":J,"--n-space":g,"--n-space-arrow":X}}),f=a?Ar("popover",void 0,y,e):void 0;l.setBodyInstance({syncPosition:T}),Or(()=>{l.setBodyInstance(null)}),_r(Q(e,"show"),h=>{e.animated||(h?c.value=!0:c.value=!1)});function T(){var h;(h=s.value)===null||h===void 0||h.syncPosition()}function C(h){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(h)}function A(h){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(h)}function N(h){e.trigger==="hover"&&!E().contains(xe(h))&&l.handleMouseMoveOutside(h)}function M(h){(e.trigger==="click"&&!E().contains(xe(h))||e.onClickoutside)&&l.handleClickOutside(h)}function E(){return l.getTriggerElement()}V(Tr,d),V(Pr,null),V(Er,null);function k(){if(f==null||f.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&p.value))return null;let $;const O=l.internalRenderBodyRef.value,{value:g}=o;if(O)$=O([`${g}-popover-shared`,f==null?void 0:f.themeClass.value,e.overlap&&`${g}-popover-shared--overlap`,e.showArrow&&`${g}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${g}-popover-shared--center-arrow`],d,b.value,C,A);else{const{value:X}=l.extraClassRef,{internalTrapFocus:J}=e,I=!Be(r.header)||!Be(r.footer),Y=()=>{var u,m;const _=I?S(Br,null,fe(r.header,R=>R?S("div",{class:[`${g}-popover__header`,e.headerClass],style:e.headerStyle},R):null),fe(r.default,R=>R?S("div",{class:[`${g}-popover__content`,e.contentClass],style:e.contentStyle},r):null),fe(r.footer,R=>R?S("div",{class:[`${g}-popover__footer`,e.footerClass],style:e.footerStyle},R):null)):e.scrollable?(u=r.default)===null||u===void 0?void 0:u.call(r):S("div",{class:[`${g}-popover__content`,e.contentClass],style:e.contentStyle},r),W=e.scrollable?S(Ir,{contentClass:I?void 0:`${g}-popover__content ${(m=e.contentClass)!==null&&m!==void 0?m:""}`,contentStyle:I?void 0:e.contentStyle},{default:()=>_}):_,H=e.showArrow?Tt({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:g}):null;return[W,H]};$=S("div",xr({class:[`${g}-popover`,`${g}-popover-shared`,f==null?void 0:f.themeClass.value,X.map(u=>`${g}-${u}`),{[`${g}-popover--scrollable`]:e.scrollable,[`${g}-popover--show-header-or-footer`]:I,[`${g}-popover--raw`]:e.raw,[`${g}-popover-shared--overlap`]:e.overlap,[`${g}-popover-shared--show-arrow`]:e.showArrow,[`${g}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:d,style:b.value,onKeydown:l.handleKeydown,onMouseenter:C,onMouseleave:A},n),J?S(Rr,{active:e.show,autoFocus:!0},{default:Y}):Y())}return Qe($,v.value)}return{displayed:p,namespace:t,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:re(e),followerEnabled:c,renderContentNode:k}},render(){return S(Wr,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===re.tdkey},{default:()=>this.animated?S(Mr,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Et=Object.keys(ar),Mt={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Rt(e,r,n){Mt[r].forEach(t=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[t],a=n[t];o?e.props[t]=(...i)=>{o(...i),a(...i)}:e.props[t]=a})}const xt={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:re.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Bt=Object.assign(Object.assign(Object.assign({},$e.props),xt),{internalOnAfterLeave:Function,internalRenderBody:Function}),Lt=Ze({name:"Popover",inheritAttrs:!1,props:Bt,__popover__:!0,setup(e){const r=Dr(),n=F(null),t=G(()=>e.show),o=F(e.defaultShow),a=Gr(t,o),i=Ie(()=>e.disabled?!1:a.value),s=()=>{if(e.disabled)return!0;const{getDisabled:u}=e;return!!(u!=null&&u())},l=()=>s()?!1:a.value,d=kr(e,["arrow","showArrow"]),c=G(()=>e.overlap?!1:d.value);let p=null;const v=F(null),b=F(null),y=Ie(()=>e.x!==void 0&&e.y!==void 0);function f(u){const{"onUpdate:show":m,onUpdateShow:_,onShow:W,onHide:H}=e;o.value=u,m&&q(m,u),_&&q(_,u),u&&W&&q(W,!0),u&&H&&q(H,!1)}function T(){p&&p.syncPosition()}function C(){const{value:u}=v;u&&(window.clearTimeout(u),v.value=null)}function A(){const{value:u}=b;u&&(window.clearTimeout(u),b.value=null)}function N(){const u=s();if(e.trigger==="focus"&&!u){if(l())return;f(!0)}}function M(){const u=s();if(e.trigger==="focus"&&!u){if(!l())return;f(!1)}}function E(){const u=s();if(e.trigger==="hover"&&!u){if(A(),v.value!==null||l())return;const m=()=>{f(!0),v.value=null},{delay:_}=e;_===0?m():v.value=window.setTimeout(m,_)}}function k(){const u=s();if(e.trigger==="hover"&&!u){if(C(),b.value!==null||!l())return;const m=()=>{f(!1),b.value=null},{duration:_}=e;_===0?m():b.value=window.setTimeout(m,_)}}function h(){k()}function $(u){var m;l()&&(e.trigger==="click"&&(C(),A(),f(!1)),(m=e.onClickoutside)===null||m===void 0||m.call(e,u))}function O(){if(e.trigger==="click"&&!s()){C(),A();const u=!l();f(u)}}function g(u){e.internalTrapFocus&&u.key==="Escape"&&(C(),A(),f(!1))}function X(u){o.value=u}function J(){var u;return(u=n.value)===null||u===void 0?void 0:u.targetRef}function I(u){p=u}return V("NPopover",{getTriggerElement:J,handleKeydown:g,handleMouseEnter:E,handleMouseLeave:k,handleClickOutside:$,handleMouseMoveOutside:h,setBodyInstance:I,positionManuallyRef:y,isMountedRef:r,zIndexRef:Q(e,"zIndex"),extraClassRef:Q(e,"internalExtraClass"),internalRenderBodyRef:Q(e,"internalRenderBody")}),je(()=>{a.value&&s()&&f(!1)}),{binderInstRef:n,positionManually:y,mergedShowConsideringDisabledProp:i,uncontrolledShow:o,mergedShowArrow:c,getMergedShow:l,setShow:X,handleClick:O,handleMouseEnter:E,handleMouseLeave:k,handleFocus:N,handleBlur:M,syncPosition:T}},render(){var e;const{positionManually:r,$slots:n}=this;let t,o=!1;if(!r&&(n.activator?t=De(n,"activator"):t=De(n,"trigger"),t)){t=Fr(t),t=t.type===Lr?S("span",[t]):t;const a={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=t.type)===null||e===void 0)&&e.__popover__)o=!0,t.props||(t.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),t.props.internalSyncTargetWithParent=!0,t.props.internalInheritedEventHandlers?t.props.internalInheritedEventHandlers=[a,...t.props.internalInheritedEventHandlers]:t.props.internalInheritedEventHandlers=[a];else{const{internalInheritedEventHandlers:i}=this,s=[a,...i],l={onBlur:d=>{s.forEach(c=>{c.onBlur(d)})},onFocus:d=>{s.forEach(c=>{c.onFocus(d)})},onClick:d=>{s.forEach(c=>{c.onClick(d)})},onMouseenter:d=>{s.forEach(c=>{c.onMouseenter(d)})},onMouseleave:d=>{s.forEach(c=>{c.onMouseleave(d)})}};Rt(t,i?"nested":r?"manual":this.trigger,l)}}return S(Hr,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const a=this.getMergedShow();return[this.internalTrapFocus&&a?Qe(S("div",{style:{position:"fixed",inset:0}}),[[zr,{enabled:a,zIndex:this.zIndex}]]):null,r?null:S(Kr,null,{default:()=>t}),S(Pt,Nr(this.$props,Et,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:a})),{default:()=>{var i,s;return(s=(i=this.$slots).default)===null||s===void 0?void 0:s.call(i)},header:()=>{var i,s;return(s=(i=this.$slots).header)===null||s===void 0?void 0:s.call(i)},footer:()=>{var i,s;return(s=(i=this.$slots).footer)===null||s===void 0?void 0:s.call(i)}})]}})}});export{Lt as N,xt as p,kr as u};
