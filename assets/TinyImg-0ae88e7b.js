import{_ as Ie}from"./BaseTitle.vue_vue_type_script_setup_true_lang-46ddebef.js";import{l as ze,o as xe,d as ee,j as Oe,q as X,w as H,y as Pe,h as L,at as ke,n as M,x as Ne,au as He,r as Ve,R as we,U as I,W as J,X as b,Y as w,Z as T,_ as B,a1 as We,$ as _,aq as Xe,F as Ge,ar as Ye,a2 as j,as as Ke,av as qe,a0 as Je}from"./index-a20a0bbd.js";import{a as _e,d as Ze}from"./index-5c3e1e7b.js";import{u as Qe}from"./Popover-87a24013.js";import{a as et,_ as tt}from"./Upload-879c7430.js";import{_ as rt}from"./Space-ccdb2840.js";import{_ as nt}from"./Table-4e29d69d.js";import"./headers-230c583a.js";import"./Follower-2b85aff6.js";import"./Eye-42e7e8b6.js";import"./Add-5b91d974.js";const at=ze("p",`
 box-sizing: border-box;
 transition: color .3s var(--n-bezier);
 margin: var(--n-margin);
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 color: var(--n-text-color);
`,[xe("&:first-child","margin-top: 0;"),xe("&:last-child","margin-bottom: 0;")]),it=Object.assign(Object.assign({},X.props),{depth:[String,Number]}),ot=ee({name:"P",props:it,setup(n){const{mergedClsPrefixRef:e,inlineThemeDisabled:t}=Oe(n),r=X("Typography","-p",at,ke,n,e),i=H(()=>{const{depth:f}=n,l=f||"1",{common:{cubicBezierEaseInOut:s},self:{pFontSize:c,pLineHeight:u,pMargin:d,pTextColor:p,[`pTextColor${l}Depth`]:h}}=r.value;return{"--n-bezier":s,"--n-font-size":c,"--n-line-height":u,"--n-margin":d,"--n-text-color":f===void 0?p:h}}),a=t?Pe("p",H(()=>`${n.depth||""}`),i,n):void 0;return{mergedClsPrefix:e,cssVars:t?void 0:i,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var n;return(n=this.onRender)===null||n===void 0||n.call(this),L("p",{class:[`${this.mergedClsPrefix}-p`,this.themeClass],style:this.cssVars},this.$slots)}}),st=ze("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[M("strong",`
 font-weight: var(--n-font-weight-strong);
 `),M("italic",{fontStyle:"italic"}),M("underline",{textDecoration:"underline"}),M("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),lt=Object.assign(Object.assign({},X.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),ct=ee({name:"Text",props:lt,setup(n){const{mergedClsPrefixRef:e,inlineThemeDisabled:t}=Oe(n),r=X("Typography","-text",st,ke,n,e),i=H(()=>{const{depth:f,type:l}=n,s=l==="default"?f===void 0?"textColor":`textColor${f}Depth`:Ne("textColor",l),{common:{fontWeightStrong:c,fontFamilyMono:u,cubicBezierEaseInOut:d},self:{codeTextColor:p,codeBorderRadius:h,codeColor:o,codeBorder:g,[s]:m}}=r.value;return{"--n-bezier":d,"--n-text-color":m,"--n-font-weight-strong":c,"--n-font-famliy-mono":u,"--n-code-border-radius":h,"--n-code-text-color":p,"--n-code-color":o,"--n-code-border":g}}),a=t?Pe("text",H(()=>`${n.type[0]}${n.depth||""}`),i,n):void 0;return{mergedClsPrefix:e,compitableTag:Qe(n,["as","tag"]),cssVars:t?void 0:i,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var n,e,t;const{mergedClsPrefix:r}=this;(n=this.onRender)===null||n===void 0||n.call(this);const i=[`${r}-text`,this.themeClass,{[`${r}-text--code`]:this.code,[`${r}-text--delete`]:this.delete,[`${r}-text--strong`]:this.strong,[`${r}-text--italic`]:this.italic,[`${r}-text--underline`]:this.underline}],a=(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e);return this.code?L("code",{class:i,style:this.cssVars},this.delete?L("del",null,a):a):this.delete?L("del",{class:i,style:this.cssVars},a):L(this.compitableTag||"span",{class:i,style:this.cssVars},a)}});var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});const $=He,ut={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 28 28"},ft=(0,$.createElementVNode)("g",{fill:"none"},[(0,$.createElementVNode)("path",{d:"M14.5 13V3.754a.75.75 0 0 0-1.5 0V13H3.754a.75.75 0 0 0 0 1.5H13v9.253a.75.75 0 0 0 1.5 0V14.5l9.25.003a.75.75 0 0 0 0-1.5L14.5 13z",fill:"currentColor"})],-1),dt=[ft];var ht=Ae.default=(0,$.defineComponent)({name:"Add28Regular",render:function(e,t){return(0,$.openBlock)(),(0,$.createElementBlock)("svg",ut,dt)}});/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function Be(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function N(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Be(Object(t),!0).forEach(function(r){vt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Be(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,De(r.key),r)}}function pt(n,e,t){return e&&Ce(n.prototype,e),t&&Ce(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function vt(n,e,t){return e=De(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function V(){return V=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},V.apply(this,arguments)}function gt(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function De(n){var e=gt(n,"string");return typeof e=="symbol"?e:String(e)}var Fe={exports:{}};(function(n){typeof window>"u"||function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),i=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(r||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(s){var c,u,d,p,h,o,g,m,v;if(c=s.match(f),!c)throw new Error("invalid data URI");for(u=c[2]?c[1]:"text/plain"+(c[3]||";charset=US-ASCII"),d=!!c[4],p=s.slice(c[0].length),d?h=atob(p):h=decodeURIComponent(p),o=new ArrayBuffer(h.length),g=new Uint8Array(o),m=0;m<h.length;m+=1)g[m]=h.charCodeAt(m);return r?new Blob([i?g:o],{type:u}):(v=new a,v.append(o),v.getBlob(u))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(s,c,u){var d=this;setTimeout(function(){u&&t.toDataURL&&l?s(l(d.toDataURL(c,u))):s(d.mozGetAsFile("blob",c))})}:t.toDataURL&&l&&(t.msToBlob?t.toBlob=function(s,c,u){var d=this;setTimeout(function(){(c&&c!=="image/png"||u)&&t.toDataURL&&l?s(l(d.toDataURL(c,u))):s(d.msToBlob(c))})}:t.toBlob=function(s,c,u){var d=this;setTimeout(function(){s(l(d.toDataURL(c,u)))})})),n.exports?n.exports=l:e.dataURLtoBlob=l}(window)})(Fe);var Re=Fe.exports,bt=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},Te={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},yt=typeof window<"u"&&typeof window.document<"u",C=yt?window:{},W=function(e){return e>0&&e<1/0},xt=Array.prototype.slice;function te(n){return Array.from?Array.from(n):xt.call(n)}var wt=/^image\/.+$/;function Q(n){return wt.test(n)}function _t(n){var e=Q(n)?n.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var je=String.fromCharCode;function Bt(n,e,t){var r="",i;for(t+=e,i=e;i<t;i+=1)r+=je(n.getUint8(i));return r}var Ct=C.btoa;function Ee(n,e){for(var t=[],r=8192,i=new Uint8Array(n);i.length>0;)t.push(je.apply(null,te(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(Ct(t.join("")))}function Rt(n){var e=new DataView(n),t;try{var r,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var f=e.byteLength,l=2;l+1<f;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){i=l;break}l+=1}if(i){var s=i+4,c=i+10;if(Bt(e,s,4)==="Exif"){var u=e.getUint16(c);if(r=u===18761,(r||u===19789)&&e.getUint16(c+2,r)===42){var d=e.getUint32(c+4,r);d>=8&&(a=c+d)}}}if(a){var p=e.getUint16(a,r),h,o;for(o=0;o<p;o+=1)if(h=a+o*12+2,e.getUint16(h,r)===274){h+=8,t=e.getUint16(h,r),e.setUint16(h,1,r);break}}}catch{t=1}return t}function Tt(n){var e=0,t=1,r=1;switch(n){case 2:t=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:r}}var Et=/\.\d*(?:0|9){12}\d*$/;function Ue(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Et.test(n)?Math.round(n*e)/e:n}function S(n){var e=n.aspectRatio,t=n.height,r=n.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",a=W(r),f=W(t);if(a&&f){var l=t*e;(i==="contain"||i==="none")&&l>r||i==="cover"&&l<r?t=r/e:r=t*e}else a?t=r/e:f&&(r=t*e);return{width:r,height:t}}function Ut(n){for(var e=te(new Uint8Array(n)),t=e.length,r=[],i=0;i+3<t;){var a=e[i],f=e[i+1];if(a===255&&f===218)break;if(a===255&&f===216)i+=2;else{var l=e[i+2]*256+e[i+3],s=i+l+2,c=e.slice(i,s);r.push(c),i=s}}return r.reduce(function(u,d){return d[0]===255&&d[1]===225?u.concat(d):u},[])}function zt(n,e){var t=te(new Uint8Array(n));if(t[2]!==255||t[3]!==224)return n;var r=t[4]*256+t[5],i=[255,216].concat(e,t.slice(4+r));return new Uint8Array(i)}var Ot=C.ArrayBuffer,Z=C.FileReader,E=C.URL||C.webkitURL,Pt=/\.\w+$/,kt=C.Compressor,At=function(){function n(e,t){mt(this,n),this.file=e,this.exif=[],this.image=new Image,this.options=N(N({},Te),t),this.aborted=!1,this.result=null,this.init()}return pt(n,[{key:"init",value:function(){var t=this,r=this.file,i=this.options;if(!bt(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var a=r.type;if(!Q(a)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!E||!Z){this.fail(new Error("The current browser does not support image compression."));return}Ot||(i.checkOrientation=!1,i.retainExif=!1);var f=a==="image/jpeg",l=f&&i.checkOrientation,s=f&&i.retainExif;if(E&&!l&&!s)this.load({url:E.createObjectURL(r)});else{var c=new Z;this.reader=c,c.onload=function(u){var d=u.target,p=d.result,h={},o=1;l&&(o=Rt(p),o>1&&V(h,Tt(o))),s&&(t.exif=Ut(p)),l||s?!E||o>1?h.url=Ee(p,a):h.url=E.createObjectURL(r):h.url=p,t.load(h)},c.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},c.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},c.onloadend=function(){t.reader=null},l||s?c.readAsArrayBuffer(r):c.readAsDataURL(r)}}},{key:"load",value:function(t){var r=this,i=this.file,a=this.image;a.onload=function(){r.draw(N(N({},t),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){r.fail(new Error("Aborted to load the image."))},a.onerror=function(){r.fail(new Error("Failed to load the image."))},C.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(C.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=i.name,a.src=t.url}},{key:"draw",value:function(t){var r=this,i=t.naturalWidth,a=t.naturalHeight,f=t.rotate,l=f===void 0?0:f,s=t.scaleX,c=s===void 0?1:s,u=t.scaleY,d=u===void 0?1:u,p=this.file,h=this.image,o=this.options,g=document.createElement("canvas"),m=g.getContext("2d"),v=Math.abs(l)%180===90,O=(o.resize==="contain"||o.resize==="cover")&&W(o.width)&&W(o.height),R=Math.max(o.maxWidth,0)||1/0,P=Math.max(o.maxHeight,0)||1/0,k=Math.max(o.minWidth,0)||0,A=Math.max(o.minHeight,0)||0,U=i/a,y=o.width,x=o.height;if(v){var re=[P,R];R=re[0],P=re[1];var ne=[A,k];k=ne[0],A=ne[1];var ae=[x,y];y=ae[0],x=ae[1]}O&&(U=y/x);var ie=S({aspectRatio:U,width:R,height:P},"contain");R=ie.width,P=ie.height;var oe=S({aspectRatio:U,width:k,height:A},"cover");if(k=oe.width,A=oe.height,O){var se=S({aspectRatio:U,width:y,height:x},o.resize);y=se.width,x=se.height}else{var le=S({aspectRatio:U,width:y,height:x}),ce=le.width;y=ce===void 0?i:ce;var ue=le.height;x=ue===void 0?a:ue}y=Math.floor(Ue(Math.min(Math.max(y,k),R))),x=Math.floor(Ue(Math.min(Math.max(x,A),P)));var Se=-y/2,Le=-x/2,$e=y,Me=x,G=[];if(O){var fe=0,de=0,Y=i,K=a,he=S({aspectRatio:U,width:i,height:a},{contain:"cover",cover:"contain"}[o.resize]);Y=he.width,K=he.height,fe=(i-Y)/2,de=(a-K)/2,G.push(fe,de,Y,K)}if(G.push(Se,Le,$e,Me),v){var me=[x,y];y=me[0],x=me[1]}g.width=y,g.height=x,Q(o.mimeType)||(o.mimeType=p.type);var pe="transparent";p.size>o.convertSize&&o.convertTypes.indexOf(o.mimeType)>=0&&(o.mimeType="image/jpeg");var ve=o.mimeType==="image/jpeg";if(ve&&(pe="#fff"),m.fillStyle=pe,m.fillRect(0,0,y,x),o.beforeDraw&&o.beforeDraw.call(this,m,g),!this.aborted&&(m.save(),m.translate(y/2,x/2),m.rotate(l*Math.PI/180),m.scale(c,d),m.drawImage.apply(m,[h].concat(G)),m.restore(),o.drew&&o.drew.call(this,m,g),!this.aborted)){var ge=function(D){if(!r.aborted){var be=function(F){return r.done({naturalWidth:i,naturalHeight:a,result:F})};if(D&&ve&&o.retainExif&&r.exif&&r.exif.length>0){var ye=function(F){return be(Re(Ee(zt(F,r.exif),o.mimeType)))};if(D.arrayBuffer)D.arrayBuffer().then(ye).catch(function(){r.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var z=new Z;r.reader=z,z.onload=function(q){var F=q.target;ye(F.result)},z.onabort=function(){r.fail(new Error("Aborted to read the compressed image with FileReader."))},z.onerror=function(){r.fail(new Error("Failed to read the compressed image with FileReader."))},z.onloadend=function(){r.reader=null},z.readAsArrayBuffer(D)}}else be(D)}};g.toBlob?g.toBlob(ge,o.mimeType,o.quality):ge(Re(g.toDataURL(o.mimeType,o.quality)))}}},{key:"done",value:function(t){var r=t.naturalWidth,i=t.naturalHeight,a=t.result,f=this.file,l=this.image,s=this.options;if(E&&l.src.indexOf("blob:")===0&&E.revokeObjectURL(l.src),a)if(s.strict&&!s.retainExif&&a.size>f.size&&s.mimeType===f.type&&!(s.width>r||s.height>i||s.minWidth>r||s.minHeight>i||s.maxWidth<r||s.maxHeight<i))a=f;else{var c=new Date;a.lastModified=c.getTime(),a.lastModifiedDate=c,a.name=f.name,a.name&&a.type!==f.type&&(a.name=a.name.replace(Pt,_t(a.type)))}else a=f;this.result=a,s.success&&s.success.call(this,a)}},{key:"fail",value:function(t){var r=this.options;if(r.error)r.error.call(this,t);else throw t}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=kt,n}},{key:"setDefaults",value:function(t){V(Te,t)}}]),n}();const Dt={class:"overflow-auto"},Ft=_("thead",null,[_("tr",null,[_("th",{width:"180"}," 文件名 "),_("th",{width:"100"}," 压缩前 "),_("th",{width:"100"}," 压缩后 "),_("th",{width:"100"}," 压缩率 "),_("th",{width:"100"}," 状态 "),_("th",{width:"120"}," 操作 ")])],-1),jt={class:"!text-green-500"},Kt=ee({__name:"TinyImg",setup(n){const e=Ve([]),t=we([]);function r(f){const{file:l}=f;return/image/.test(String(l.type))?Promise.resolve(!0):Promise.reject(new Error("请上传图片文件"))}function i(f){var c;const{file:l}=f,s=we({id:l.id,name:l.name,size:((c=l==null?void 0:l.file)==null?void 0:c.size)||0,compressedFile:null,compressedSize:0,status:"warning"});return t.push(s),new At(l.file,{quality:.6,success(u){s.compressedFile=u,s.compressedSize=u.size,s.status="success"}})}function a(f){e.value.splice(f,1),t.splice(f,1)}return(f,l)=>{const s=Ie,c=qe,u=ct,d=ot,p=et,h=tt,o=Je,g=rt,m=nt;return I(),J("section",null,[b(s),b(h,{"file-list":T(e),"onUpdate:fileList":l[0]||(l[0]=v=>We(e)?e.value=v:null),"show-file-list":!1,accept:".jpg,.png,.jpeg,.gif",multiple:"",onBeforeUpload:r,onChange:i},{default:w(()=>[b(p,{class:"h-40 bg-white"},{default:w(()=>[b(c,{size:"20",depth:"3",class:"mt-8"},{default:w(()=>[b(T(ht))]),_:1}),b(d,null,{default:w(()=>[B(" 将文件拖到此处，或 "),b(u,{type:"info"},{default:w(()=>[B(" 点击上传 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["file-list"]),b(d,{depth:"3"},{default:w(()=>[B(" *只能上传 "),b(u,{type:"info"},{default:w(()=>[B(" jpg ")]),_:1}),B(" / "),b(u,{type:"info"},{default:w(()=>[B(" png ")]),_:1}),B(" / "),b(u,{type:"info"},{default:w(()=>[B(" jpeg ")]),_:1}),B(" / "),b(u,{type:"info"},{default:w(()=>[B(" gif ")]),_:1}),B(" 文件，且不超过 "),b(u,{type:"info"},{default:w(()=>[B(" 10MB ")]),_:1})]),_:1}),_("div",Dt,[T(t).length>0?(I(),Xe(m,{key:0,bordered:!1},{default:w(()=>[Ft,_("tbody",null,[(I(!0),J(Ge,null,Ye(T(t),(v,O)=>(I(),J("tr",{key:v.id},[_("td",null,j(v.name),1),_("td",null,j(T(_e)(v.size)),1),_("td",null,j(T(_e)(v.compressedSize)),1),_("td",jt,j(-((1-v.compressedSize/v.size)*100).toFixed(2))+"% ",1),_("td",null,[b(u,{type:v.status},{default:w(()=>[B(j(v.status==="success"?"完成":"处理中..."),1)]),_:2},1032,["type"])]),_("td",null,[b(g,{wrap:!1},{default:w(()=>[b(o,{size:"small",secondary:"",type:"error",onClick:R=>a(O)},{default:w(()=>[B(" 删除 ")]),_:2},1032,["onClick"]),b(o,{size:"small",secondary:"",type:"primary",onClick:R=>T(Ze)(v.compressedFile,v.name)},{default:w(()=>[B(" 下载 ")]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])]),_:1})):Ke("",!0)])])}}});export{Kt as default};
